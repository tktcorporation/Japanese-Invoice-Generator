以下は、日本向け請求書作成ツールの仕様書（MVP版）です。

⸻

1. 概要

本ツールは、ユーザーが必要な情報を入力することで請求書のプレビュー表示およびPDF出力を実現する、最低限の機能に絞ったシステムです。日本国内向けに、消費税の自動計算機能を含む基本的な請求書作成機能を提供します。

⸻

2. MVPとしての必要機能

2.1 ユーザー入力機能
	•	入力フォーム
必須項目のみをシンプルに入力できるフォームを提供します。
	•	請求書番号、発行日、支払期限
	•	発行者情報（フリーテキスト）
	•	顧客情報（フリーテキスト）
	•	請求内容（明細）入力（各項目：フリーテキスト、数量、単価、必要に応じた備考）

2.2 消費税自動計算機能
	•	税率設定
デフォルトで標準税率（例：10%）を設定し、必要に応じた軽減税率（例：8%）の対応も可能にします（オプション）。
	•	計算ロジック
各明細の数量×単価で小計を算出し、全体の小計に対して消費税額を計算。税抜き金額、消費税額、税込合計を表示します。

2.3 プレビュー機能
	•	リアルタイムプレビュー
入力内容を即時に請求書のプレビューとして表示。シンプルなレイアウトで、最終出力の確認が可能です。

2.4 PDF出力機能
	•	PDF生成
プレビュー内容をそのままPDFに変換して出力。基本的なレイアウトを保持し、印刷や電子保存が可能です。

⸻

3. 入力項目の詳細

3.1 請求書基本情報
	•	請求書番号（自動採番も検討）
	•	発行日
	•	支払期限

3.2 発行者情報
	•	フリーテキスト

3.3 顧客情報
	•	フリーテキスト

3.4 請求内容（明細）
	•	フリーテキスト
	•	数量
	•	単価
	•	小計（数量×単価で自動計算）
	•	備考（任意）

3.5 消費税関連
	•	税率（例：10%、必要に応じて8%選択可能）
	•	自動計算結果として以下を表示
	•	税抜き合計
	•	消費税額
	•	税込合計

3.6 支払い情報（最低限）
	•	フリーテキスト

⸻

4. 計算ロジック
	•	各明細の計算
数量×単価により各明細の小計を算出。
	•	消費税計算
全明細の小計合計に設定税率を適用し、消費税額を算出（四捨五入など基本ルールを適用）。
	•	総計
小計と消費税額を合算し、最終請求金額を表示。

⸻

6. テスト項目
	•	入力検証
各必須項目の入力チェック、データフォーマットの確認（例：日付、電話番号）
	•	計算精度の検証
明細計算、消費税、総計計算の正確性
	•	プレビューの反映
入力内容が正しくプレビューに反映されるかの確認
	•	PDF出力の確認
出力されたPDFにおけるレイアウト、テキスト、計算結果の正確性

⸻

7. まとめ

本MVP仕様書は、シンプルかつ最低限の機能に絞った日本向け請求書作成ツールの構成を示しています。
	•	ユーザーは必要情報を入力し、リアルタイムプレビューで内容確認後、PDFとして出力可能。
	•	消費税の自動計算を含む基本的な計算機能を提供します。

まずはこのMVPで基本的なニーズに応えることを目指します。
